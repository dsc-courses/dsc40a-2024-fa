<!-- These set styles for the entire document. -->
<style>

h1 {
  background: linear-gradient(90.2deg, rgba(190, 70, 102, 0.93) -15.6%, rgb(252, 154, 154) -15.6%, rgba(190, 70, 102, 0.92) 17.9%, rgb(58, 13, 48) 81.6%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

h1 { font-size: 72px }

h2 { font-size: 48px; color: #fff; }

h3 { font-size: 36px; vertical-align: top; }

h3, h4, h5 {
  background: rgb(58, 13, 48);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

h3, h4, h5 { color: #444 }

section {
  position: absolute;
  height: inherit;
  vertical-align: bottom;
  margin: 0;
  display: table-cell;
}

</style>

<br><br><br>

##### Lecture 13

# Combinatorics

#### DSC 40A, Summer 2024

---

### Announcements

- Homework 5 is due **tonight**.

---

### Agenda

- Recap: The domino problem.
- Combinatorics.
- Lots and lots of examples.

Remember, we've posted **many** probability resources on the [resources tab of the course website](https://dsc40a.com/resources/#probability). These will come in handy! Specific resources you should look at:
- The [DSC 40A probability roadmap](https://dsc40a.com/resources/#probability-roadmap), written by Janine Tiefenbruck.
- The textbook [Theory Meets Data](http://stat88.org/textbook/content/intro.html), which explains many of the same ideas and contains more practice problems.

**For today's lectures specifically, there are two supplementary videos I created that you should watch. Both are linked in [this playlist](https://www.youtube.com/playlist?list=PLDNbnocpJUhaMR08k5YBu3AXsZxTcUWsy), which is also linked at [dsc40a.com](https://dsc40a.com)**.

---

<style scoped>section {background: #f2ecf4 }</style>

### Question ðŸ¤”
**Answer at [q.dsc40a.com](https://docs.google.com/forms/d/e/1FAIpQLSfEaSAGovXZCk_51_CVI587CcGW1GZH1w4Y50dKDzoLEX3D4w/viewform)**

<br><br><br>

<center><big><b>Remember, you can always ask questions at <a href="https://docs.google.com/forms/d/e/1FAIpQLSfEaSAGovXZCk_51_CVI587CcGW1GZH1w4Y50dKDzoLEX3D4w/viewform">q.dsc40a.com</a>!</b></big>

If the direct link doesn't work, click the "ðŸ¤” Lecture Questions" <br>link in the top right corner of [dsc40a.com](https://dsc40a.com).
</center>

---

<style scoped>section {background: linear-gradient(90deg, hsla(290, 25%, 76%, 1) 0%, hsla(284, 80%, 10%, 1) 100%);}</style>

<br><br><br><br><br>

## Recap: The domino problem

---

### Example: Dominoes

([source: 538](https://fivethirtyeight.com/features/can-you-eat-an-apple-like-a-toddler/))

In a set of dominoes, each tile has two sides with a number of dots on each side: 0, 1, 2, 3, 4, 5, or 6. There are 28 total tiles, with each number of dots appearing alongside each other number (including itself) on a single tile.

<center>

<img src="imgs/dom-single.png" width=8%>

</center>


---

### Example: Dominoes

**Question 1**: What is the probability of drawing a "double" from a set of dominoes â€“ that is, a tile with the same number on both sides?
  

---

### Example: Dominoes

**Question 2**: Now your friend picks a random tile from the set and tells you that at least one of the sides is a 6. What is the probability that your friend's tile is a double, with 6 on both sides?

<center>

<img src="imgs/dom-multiple.png" width=45%>

</center>

---

### Example: Dominoes

**Question 3**: Now you pick a random tile from the set and uncover only one side, revealing that it has 6 dots. What is the probability that this tile is a double, with 6 on both sides?
    
<center>

<img src="imgs/dom-multiple.png" width=45%>

</center>

<br><br><br><br><br><br>

[See 538's explanation here.](https://fivethirtyeight.com/features/can-you-find-the-best-dungeons-dragons-strategy)


---

### Don't believe me? Believe the simulation!

- To verify your answer to a probability problem, you can often run a simulation!

- [This notebook](http://datahub.ucsd.edu/user-redirect/git-sync?repo=https://github.com/dsc-courses/dsc40a-2024-su-ii&subPath=lectures/lec13/lec13-code.ipynb) has a simulation of the domino problem.

<center>

<img src="imgs/simulation.png" width=65%>

</center>

---

<style scoped>section {background: linear-gradient(90deg, hsla(290, 25%, 76%, 1) 0%, hsla(284, 80%, 10%, 1) 100%);}</style>

<br><br><br><br><br>

## Combinatorics

---


### Motivation

- Many problems in probability involve counting.
  - Suppose I flip a fair coin 100 times. What's the probability I see 34 heads?
  - Suppose I draw 3 cards from a 52 card deck. What's the probability they all are all from the same suit?
- In order to solve such problems, we first need to learn how to count.
- The area of math that deals with counting is called **combinatorics**.

---

### Selecting elements (i.e. sampling)

- Many experiments involve choosing $k$ elements randomly from a group of $n$ possible elements. This group is called a **population**.
  - If drawing cards from a deck, the population is the deck of all cards.
  - If selecting people from DSC 40A, the population is everyone in DSC 40A.
- Two decisions:
  - Do we select elements with or without **replacement**?
  - Does the **order** in which things are selected matter?
    
---

### Sequences

- A **sequence** of length $k$ is obtained by selecting $k$ elements from a group of $n$ possible elements **with replacement (i.e. repetition is allowed)**, such that **order matters**.
- **Example**: Draw a card (from a standard 52-card deck), put it back in the deck, and repeat 4 times. How many such sequences are there?
<br><br><br>
- **Example**: A UCSD PID starts with "A" then has 8 digits. How many UCSD PIDs are possible?
---

### Sequences

In general, the number of ways to select $k$ elements from a group of $n$ possible elements **with replacement (i.e. repetition is allowed)** and **order matters** is $n^k$.
    
    
---


### Permutations

- A **permutation** is obtained by selecting $k$ elements from a group of $n$ possible elements **without replacement (i.e. repetition is not allowed)**, such that **order matters**.
- **Example**: Draw 4 cards, without replacement, from a standard 52-card deck. How many such permutations are there?<br><br><br>
- **Example**: How many ways are there to select a president, vice president, and secretary from a group of 8 people?

---

### Permutations
- In general, the number of ways to select $k$ elements from a group of $n$ possible elements **without replacement (i.e. repetition is not allowed)** and **order matters** is:
        
$$P(n, k) = (n) (n - 1) ... (n - k + 1)$$
        
- To simplify: recall that the definition of $n!$ is:
        
<br><br>
        
- Given this, we can write:
    
    
---

<style scoped>section {background: #f2ecf4 }</style>

### Question ðŸ¤”
**Answer at [q.dsc40a.com](https://docs.google.com/forms/d/e/1FAIpQLSfEaSAGovXZCk_51_CVI587CcGW1GZH1w4Y50dKDzoLEX3D4w/viewform)**

UCSD has 8 colleges. In how many ways can I rank my top 3 choices?

- A. 24.
- B. 336.
- C. 512.
- D. 6561.
- E. None of the above.


---

### Special case of permutations

- Suppose we have $n$ people. The total number of ways I can rearrange these $n$ people in a line is:

<br><br>
        
- This is consistent with the formula:
        
$$P(n, n) = \frac{n!}{(n - n)!} = \frac{n!}{0!} = \frac{n!}{1} = n!$$

<br>

- **Followup**: How many ways are there to arrange $n$ people in a circle?        

---

### Combinations
- A **combination** is a set of $k$ elements selected from a group of $n$ possible elements **without replacement (i.e. repetition is not allowed)**, such that **order does not matter**.
- **Example**: There are 4 ice cream flavors. In how many ways can you pick two different flavors?
    
---

---

### From permutations to combinations

- There is a close connection between:
  - the number of **permutations** of $k$ elements selected from a group of $n$, and
  - the number of **combinations** of $k$ elements selected from a group of $n$.
        
$$\text{\# combinations} = \frac{\text{\# permutations}}{\text{\# orderings of $k$ elements}}$$

- Since $\text{\# permutations} = \frac{n!}{(n - k)!}$ and $\text{\# orderings of } k \text{ elements} = k!$, we have:
        
$$C(n, k) = {n \choose k} = \frac{n!}{(n-k)! k!}$$
        
---

### Combinations
    
In general, the number of ways to select $k$ elements from a group of $n$ elements **without replacement (i.e. repetition is not allowed) and **order does not matter** is:
    
$$\boxed{{n \choose k} = \frac{n!}{(n - k)! k!}}$$
    
The symbol ${n \choose k}$ is pronounced "$n$ choose $k$", and is also known as the **binomial coefficient**.

    
---

### Example: Committees

- How many ways are there to select a president, vice president, and secretary from a group of 8 people?<br><br><br>
    
- How many ways are there to select a committee of 3 people from a group of 8 people?<br><br><br>
    
- If you're ever confused about the difference between permutations and combinations, **come back to this example**.

- More generally, don't jump straight to a formula: think about what the question is asking for.

---

### Aside: Simplifying ${n \choose k}$

It's true that:

$${n \choose k} = \frac{n!}{(n-k)! k!}$$

However, when asked to simplify the value of ${n \choose k}$, do so strategically!

---

<style scoped>section {background: #f2ecf4 }</style>

### Question ðŸ¤”
**Answer at [q.dsc40a.com](https://docs.google.com/forms/d/e/1FAIpQLSfEaSAGovXZCk_51_CVI587CcGW1GZH1w4Y50dKDzoLEX3D4w/viewform)**
        
A domino consists of two faces, each with anywhere between 0 and 6 dots. A set of dominoes consists of every possible combination of dots on each face.
    
How many dominoes are in a set of dominoes?
        
- A. ${7 \choose 2}$
- B. ${7 \choose 1} + {7 \choose 2}$
- C. $P(7, 2)$
- D. $\frac{P(7, 2)}{P(7, 1)}7!$
    
---

### Summary

Suppose we want to select $k$ elements from a group of $n$ possible elements. The following table summarizes whether the problem involves sequences, permutations, or combinations, along with the number of relevant orderings.


|  | Yes, order matters | No, order doesn't matter |
| --- | --- | --- |
| **With replacement**<br><small>Repetition allowed</small> | $\boxed{n^k}$ possible **sequences**  | more complicated: watch [**this video**](https://youtu.be/epY_8lcKxCU?si=qFOwGWI4UzkWoE9J)* |
| **Without replacement**<br><small>Repetition not allowed</small> | $\boxed{\frac{n!}{(n-k)!}}$ possible **permutations** | $\boxed{n \choose k}$ **combinations** |

_*or see the previous slide._

---

<style scoped>section {background: linear-gradient(90deg, hsla(290, 25%, 76%, 1) 0%, hsla(284, 80%, 10%, 1) 100%);}</style>

<br><br><br><br><br>

## More examples

<span style="color:white">All we're going to do for the remainder of today's lecture and much of Tuesday's lecture is work through examples of combinatorics problems.</span>

---

### Combinatorics as a tool for probability

- If $S$ is a sample space consisting of equally-likely outcomes, and $A$ is an event, then $\mathbb{P}(A) = \frac{|A|}{|S|}$.

- In many examples, this will boil down to using permutations and/or combinations to count $|A|$ and $|S|$.
- **Tip**: Before starting a probability problem, always think about what the sample space $S$ is!

---

### Overview: Selecting students

We're going answer the same question using several different techniques.
    
**There are 20 students in a class. Avi is one of them. Suppose we select 5 students in the class uniformly at random **without replacement**. What is the probability that Avi is among the 5 selected students?**
    
---

### Selecting students
#### Method 1: Using permutations
    
There are 20 students in a class. Avi is one of them. Suppose we select 5 students in the class uniformly at random **without replacement**. What is the probability that Avi is among the 5 selected students?
    
    
---

---

### Selecting students
#### Method 2: Using permutations and the complement
    
There are 20 students in a class. Avi is one of them. Suppose we select 5 students in the class uniformly at random **without replacement**. What is the probability that Avi is among the 5 selected students?

---

---

### Selecting students
#### Method 3: Using combinations
    
There are 20 students in a class. Avi is one of them. Suppose we select 5 students in the class uniformly at random **without replacement**. What is the probability that Avi is among the 5 selected students?

---


    
---


### Selecting students
#### Method 4: The "easy" way
    
There are 20 students in a class. Avi is one of them. Suppose we select 5 students in the class uniformly at random **without replacement**. What is the probability that Avi is among the 5 selected students?
    
---

<style scoped>section {background: #f2ecf4 }</style>

### Question ðŸ¤”
**Answer at [q.dsc40a.com](https://docs.google.com/forms/d/e/1FAIpQLSfEaSAGovXZCk_51_CVI587CcGW1GZH1w4Y50dKDzoLEX3D4w/viewform)**

#### With vs. without replacement

We've determined that a probability that a random sample of 5 students from a class of 20 **without replacement** contains Avi (one student in particular) is $\frac{1}{4}$.
    
Suppose we instead sampled **with replacement**. Would the resulting probability be equal to, greater than, or less than $\frac{1}{4}$?
        
- A. Equal to.
- B. Greater than.
- C. Less than.

---

<style scoped>section {background: linear-gradient(90deg, hsla(290, 25%, 76%, 1) 0%, hsla(284, 80%, 10%, 1) 100%);}</style>

<br><br><br><br><br>

## Even more examples

---

### Watch the video linked below!

The following slides **will not** be covered in lecture. Instead, they're covered in [**this walkthrough video**](https://youtu.be/-PN1bp5AZMA?si=1NSV0IClebZswb-8).

<center>

<img src="imgs/video-ss.png" width=50%>

A screenshot from the walkthrough video.

</center>

We'll still cover more examples on Tuesday, but now you have a few more examples to refer to when working on Homework 6 over the weekend. 

---

### Example: Pets

**Part 1**: We have 12 pets: 5 dogs and 7 cats. In how many ways can we select 4 pets?

---

### Example: Pets

**Part 2**: We have 12 pets: 5 dogs and 7 cats. In how many ways can we select 4 pets such that we have...

1. 2 dogs and 2 cats?
1. 3 dogs and 1 cat?
1. At least 2 dogs?

---

### Example: Pets

**Part 3**: We have 12 pets: 5 dogs and 7 cats. We randomly select 4 pets. What's the probability that we selected at least 2 dogs?

---

### Example: A fair coin

Suppose we flip a fair coin 10 times.

1. What is the probability that we see the specific sequence THTTHTHHTH?
1. What is the probability that we see an equal number of heads and tails?

---

### Example: An unfair coin

Suppose we flip an **unfair** coin 10 times. The coin is biased such that for each flip, $\mathbb{P}(\text{heads}) = \frac{1}{3}$.

1. What is the probability that we see the specific sequence THTTHTHHTH?
1. What is the probability that we see an equal number of heads and tails?

---